<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="content-type"        content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type"  content="text/css" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta name="generator" content="JsDoc Toolkit 1.4.1" />
<title>JsDoc &raquo; AJAX&XML Library &raquo; aV.main.ajax.js</title>
<link href="default.css" type="text/css" rel="stylesheet" media="all" />
<script src="default.js" type="text/javascript"></script>

</head>
<body id="pagetop">
<div id="body">



<!--============= HEADER ============-->
<div id="header">
	<ul>
		<li><a href="index.html">JsDoc</a></li>
		<li><a href="00_file.html">AJAX&XML Library</a></li>
		<li><a href="00_src.html">aV.main.ajax.js</a></li>
	</ul>
</div>
<!--============ /HEADER ============-->



<div id="layout">



<!--============== NAV ==============-->
<div id="nav">
	
	<div class="close">
		<h2>
			<span class="name"><a href="00_file.html">AJAX&XML Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="00_file.html#AJAX">AJAX</a></li>
					
						<li><a href="00_file.html#AJAX.XML">AJAX.XML</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="00_file.html#AJAX.activeRequestCount">AJAX.activeRequestCount</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="01_file.html">DBGrid class</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="01_file.html#DBGrid">DBGrid</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="01_file.html#DBGrid._lastGuid">DBGrid._lastGuid</a></li>
					
						<li><a href="01_file.html#DBGrid.dataAddress">DBGrid.dataAddress</a></li>
					
						<li><a href="01_file.html#DBGrid.guid">DBGrid.guid</a></li>
					
						<li><a href="01_file.html#DBGrid.parameters">DBGrid.parameters</a></li>
					
						<li><a href="01_file.html#DBGrid.sortBy">DBGrid.sortBy</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="02_file.html">Event Management Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="02_file.html#Events">Events</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="02_file.html#Events.guid">Events.guid</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="03_file.html">String Extensions Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="03_file.html#String">String</a></li>
					
				</ul>
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="04_file.html">Visual Effects - Slider Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="04_file.html#Visual.sliders">Visual.sliders</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="04_file.html#Visual.sliders.activeSlider">Visual.sliders.activeSlider</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="05_file.html">Visual Effects - customHint Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="05_file.html#Examples">Examples</a></li>
					
						<li><a href="05_file.html#Visual.customHint">Visual.customHint</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="06_file.html">Visual Effects - infoBox Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="06_file.html#Visual.infoBox">Visual.infoBox</a></li>
					
						<li><a href="06_file.html#Visual.infoBox.config.timeout">Visual.infoBox.config.timeout</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="07_file.html">Visual Effects&Functions Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="07_file.html#Visual">Visual</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="07_file.html#Visual.fixedElements">Visual.fixedElements</a></li>
					
						<li><a href="07_file.html#Visual.initFunctions">Visual.initFunctions</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="08_file.html">aParser</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="08_file.html#aParser">aParser</a></li>
					
				</ul>
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="09_file.html">cssQuery</a></span>
			
		</h2>
		<div class="list">
		
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="10_file.html">dynamicLanguage</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage">AJAX.dynamicLanguage</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage._loader">AJAX.dynamicLanguage._loader</a></li>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage._strings">AJAX.dynamicLanguage._strings</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="11_file.html">quickEdit</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="11_file.html#QuickEdit">QuickEdit</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="11_file.html#QuickEdit.uploadBoxCount">QuickEdit.uploadBoxCount</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
</div>
<!--============= /NAV ==============-->


    
<!--============== DOCS =============-->
<div id="docs">
<pre id="code">
<span class='linenumber'>  1</span> <span class="COMM">/**
<span class='linenumber'>  2</span>  * @fileOverview	A function-based AJAX library which also comes with useful XML functions such as &lt;a href="#AJAX.XML.getValue">AJAX.XML.getValue&lt;/a> and &lt;a href="#AJAX.XML.setValue">AJAX.XML.setValue&lt;/a>.
<span class='linenumber'>  3</span>  * @name	AJAX&XML Library
<span class='linenumber'>  4</span>  *
<span class='linenumber'>  5</span>  * @author	Burak YiÄŸit KAYA	byk@amplio-vita.net
<span class='linenumber'>  6</span>  * @version	1.4
<span class='linenumber'>  7</span>  * @copyright &copy;2008 amplio-Vita under &lt;a href="../license.txt" target="_blank">BSD Licence&lt;/a>
<span class='linenumber'>  8</span>  */</span><span class="WHIT">
<span class='linenumber'>  9</span> 
<span class='linenumber'> 10</span> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">AJAX</span><span class="PUNC">!=</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 11</span> </span><span class="WHIT">	</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">'"AJAX" namespace had already been taken!'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"aV.main.ajax.js@"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">window.location.href</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">11</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 12</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'> 13</span> </span><span class="COMM">/**
<span class='linenumber'> 14</span>  * Represents a namespace, AJAX, for the new functions and global parameters of those functions.
<span class='linenumber'> 15</span>  *
<span class='linenumber'> 16</span>  * @config	{String}	[noAjax]	The error message which user will see if his/her browser does not support AJAX.
<span class='linenumber'> 17</span>  * If you want to disable this warning, just set this to false.
<span class='linenumber'> 18</span>  * @config	{String}	[loadImgPath]	The "loading" gif's path, which might be used in various places.
<span class='linenumber'> 19</span>  * @config {String}	[loadingText]	The "loading" message which will be placed into a dynamically filled container while the content is being loaded.
<span class='linenumber'> 20</span>  * If you want to disable this text, just set this to false.
<span class='linenumber'> 21</span>  * @config	{String}	[pageLeaveWarning]	The warning message which will be displayed to user if (s)he tries to leave the page while an AJAX request is loading.
<span class='linenumber'> 22</span>  * If you want to disable this warning, just set this to false.
<span class='linenumber'> 23</span>  * @namespace
<span class='linenumber'> 24</span>  */</span><span class="WHIT">
<span class='linenumber'> 25</span> </span><span class="NAME">AJAX</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 26</span> 
<span class='linenumber'> 27</span> </span><span class="NAME">AJAX.config</span><span class="PUNC">=</span><span class="WHIT">
<span class='linenumber'> 28</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 29</span> </span><span class="WHIT">	</span><span class="NAME">noAjax</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"You need an AJAX supported browser to use this page."</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 30</span> </span><span class="WHIT">	</span><span class="NAME">loadImgPath</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"images/loading_img.gif"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 31</span> </span><span class="WHIT">	</span><span class="NAME">loadingText</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"&lt;br>&lt;center>&lt;img src=\""</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="KEYW">this</span><span class="PUNC">[</span><span class="STRN">"loadImgPath"</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">"\">Loading, please wait...&lt;/center>"</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 32</span> </span><span class="WHIT">	</span><span class="NAME">pageLeaveWarning</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">"There are one or more requests in progress. If you exit, there might be data loss."</span><span class="WHIT">
<span class='linenumber'> 33</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 34</span> 
<span class='linenumber'> 35</span> </span><span class="COMM">/**
<span class='linenumber'> 36</span>  * Tries to get an XMLHttpRequest object, returns false if the browser does not support AJAX.
<span class='linenumber'> 37</span>  *
<span class='linenumber'> 38</span>  * @deprecated You should not need to use this function directly, use &lt;a href="#AJAX.makeRequest">makeRequest&lt;/a> to make AJAX calls.
<span class='linenumber'> 39</span>  * @return	{XMLHttpRequestObject | false} A new XMLHttpRequest object or false
<span class='linenumber'> 40</span>  */</span><span class="WHIT">
<span class='linenumber'> 41</span> </span><span class="NAME">AJAX.createRequestObject</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 42</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 43</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 44</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">window.XMLHttpRequest</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">!</span><span class="PUNC">(</span><span class="NAME">window.ActiveXObject</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 45</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 46</span> </span><span class="WHIT">		</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'> 47</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 48</span> </span><span class="WHIT">			</span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">XMLHttpRequest</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 49</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 50</span> </span><span class="WHIT">		</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 51</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 52</span> </span><span class="WHIT">			</span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 53</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 54</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 55</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">window.ActiveXObject</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 56</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 57</span> </span><span class="WHIT">		</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'> 58</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 59</span> </span><span class="WHIT">			</span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ActiveXObject</span><span class="PUNC">(</span><span class="STRN">"Msxml2.XMLHTTP"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 60</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 61</span> </span><span class="WHIT">		</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 62</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 63</span> </span><span class="WHIT">			</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'> 64</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 65</span> </span><span class="WHIT">				</span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">ActiveXObject</span><span class="PUNC">(</span><span class="STRN">"Microsoft.XMLHTTP"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 66</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 67</span> </span><span class="WHIT">			</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 68</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 69</span> </span><span class="WHIT">				</span><span class="NAME">requestObject</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 70</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 71</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 72</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 73</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">requestObject</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 74</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 75</span> 
<span class='linenumber'> 76</span> </span><span class="COMM">/**
<span class='linenumber'> 77</span>  * Destroys the given XMLHttpRequest object safely.
<span class='linenumber'> 78</span>  * &lt;br />Aborts the request if it is active.
<span class='linenumber'> 79</span>  *
<span class='linenumber'> 80</span>  * @method
<span class='linenumber'> 81</span>  * @param	{XMLHttpRequestObject}	requestObject	The requestObject-to-be-destroyed
<span class='linenumber'> 82</span>  */</span><span class="WHIT">
<span class='linenumber'> 83</span> </span><span class="NAME">AJAX.destroyRequestObject</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 84</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 85</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 86</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 87</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="PUNC">!=</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="PUNC">!=</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 88</span> </span><span class="WHIT">			</span><span class="NAME">requestObject.abort</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 89</span> </span><span class="WHIT">		</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">requestObject</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 90</span> </span><span class="WHIT">		</span><span class="NAME">requestObject</span><span class="PUNC">=</span><span class="NAME">undefined</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 91</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 92</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 93</span> 
<span class='linenumber'> 94</span> </span><span class="COMM">/**
<span class='linenumber'> 95</span>  * This function is assigned to the page's onbeforeunload event for pageLeaveWarning feature.
<span class='linenumber'> 96</span>  * &lt;br />See &lt;a href="#AJAX">config.pageLeaveWarning&lt;/a>
<span class='linenumber'> 97</span>  *
<span class='linenumber'> 98</span>  * @deprecated Should not be called directly, it is for the page's onbeforeunload event.
<span class='linenumber'> 99</span>  * @return {String | null} pageLeaveWarning config variable or null
<span class='linenumber'>100</span>  */</span><span class="WHIT">
<span class='linenumber'>101</span> </span><span class="NAME">AJAX.checkActiveRequests</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>102</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>103</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AJAX.config</span><span class="PUNC">[</span><span class="STRN">"pageLeaveWarning"</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">AJAX.activeRequestCount</span><span class="PUNC">></span><span class="NUMB">0</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>104</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">AJAX.config</span><span class="PUNC">[</span><span class="STRN">"pageLeaveWarning"</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>105</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>106</span> 
<span class='linenumber'>107</span> </span><span class="COMM">/**
<span class='linenumber'>108</span>  * Creates a new XMLHttpRequest object which connects to the adress, which includes the URI encoded and merged GET parameters.
<span class='linenumber'>109</span>  * Assignes changeFunction to the newly created XMLHttpRequest object's onreadystatechange event.
<span class='linenumber'>110</span>  * Frees the XMLHttpRequest object automatically after completing the call.
<span class='linenumber'>111</span>  *
<span class='linenumber'>112</span>  * @deprecated	Generally used internally from other high-level functions. Not very suitable for end-developers.
<span class='linenumber'>113</span>  * @return {XMLHttpRequestObject}
<span class='linenumber'>114</span>  * @param	{String}	adress	The adress of the page which will be connected. Should include the URI encoded GET parameters.
<span class='linenumber'>115</span>  * @param	{Function(XMLHttpRequestObject)}	[changeFunction]	The function which will be assigned to the newly created XMLHttpRequest object's onreadystatechange event.
<span class='linenumber'>116</span>  */</span><span class="WHIT">
<span class='linenumber'>117</span> </span><span class="NAME">AJAX.makeGetRequest</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">changeFunction</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>118</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>119</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.createRequestObject</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//try to create an XMLHttpRequest object</span><span class="WHIT">
<span class='linenumber'>120</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">resultRequest</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the XMLHttpRequest object is valid</span><span class="WHIT">
<span class='linenumber'>121</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>122</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.open</span><span class="PUNC">(</span><span class="STRN">"GET"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//set the adress and HTTP method to GET</span><span class="WHIT">
<span class='linenumber'>123</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.onreadystatechange</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>124</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>125</span> </span><span class="WHIT">			</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'>126</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>127</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">changeFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if there is an assigned changeFunction, assign it to the onreadystatechange event specially, that it recieves the XMLHttpRequest object as its parameter		</span><span class="WHIT">
<span class='linenumber'>128</span> </span><span class="WHIT">					</span><span class="NAME">changeFunction</span><span class="PUNC">(</span><span class="NAME">resultRequest</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>129</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>130</span> </span><span class="WHIT">			</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>131</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>132</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">window.handleError</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>133</span> </span><span class="WHIT">					</span><span class="NAME">handleError</span><span class="PUNC">(</span><span class="NAME">e.message</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">e.fileName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">e.lineNumber</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>134</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>135</span> </span><span class="WHIT">			</span><span class="KEYW">finally</span><span class="WHIT">
<span class='linenumber'>136</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>137</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">resultRequest.readyState</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>138</span> </span><span class="WHIT">				</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>139</span> </span><span class="WHIT">					</span><span class="NAME">AJAX.activeRequestCount</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>140</span> </span><span class="WHIT">					</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>141</span> </span><span class="WHIT">					</span><span class="NAME">resultRequest</span><span class="PUNC">=</span><span class="NAME">undefined</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>142</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>143</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>144</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>145</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.send</span><span class="PUNC">(</span><span class="KEYW">null</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//start the request</span><span class="WHIT">
<span class='linenumber'>146</span> </span><span class="WHIT">		</span><span class="NAME">this.activeRequestCount</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>147</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>148</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"noAjax"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if cannot create a valid XMLHttpRequest object, inform user.</span><span class="WHIT">
<span class='linenumber'>149</span> </span><span class="WHIT">		</span><span class="NAME">alert</span><span class="PUNC">(</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"noAjax"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>150</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//return the created XMLHttpRequest object for any further use</span><span class="WHIT">
<span class='linenumber'>151</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>152</span> 
<span class='linenumber'>153</span> </span><span class="COMM">/**
<span class='linenumber'>154</span>  * Creates a new XMLHttpRequest object which connects to the adress, which includes the URI encoded and merged POST parameters.
<span class='linenumber'>155</span>  * Assignes changeFunction to the newly created XMLHttpRequest object's onreadystatechange event.
<span class='linenumber'>156</span>  * Frees the XMLHttpRequest object automatically after completing the call.
<span class='linenumber'>157</span>  *
<span class='linenumber'>158</span>  * @deprecated	Generally used internally from other high-level functions. Not very suitable for end-developers.
<span class='linenumber'>159</span>  * @return {XMLHttpRequestObject}
<span class='linenumber'>160</span>  * @param	{String}	adress	The adress of the page which will be connected. Should  NOT include any parameters.
<span class='linenumber'>161</span>  * @param	{String}	parameters	The URI encoded and merged POST parameters for the HTTP request.
<span class='linenumber'>162</span>  * @param	{Function(XMLHttpRequestObject)}	[changeFunction]	The function which will be assigned to the newly created XMLHttpRequest object's onreadystatechange event.
<span class='linenumber'>163</span>  */</span><span class="WHIT">
<span class='linenumber'>164</span> </span><span class="NAME">AJAX.makePostRequest</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">parameters</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">changeFunction</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>165</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>166</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.createRequestObject</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//try to create a XMLHttpRequest object</span><span class="WHIT">
<span class='linenumber'>167</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">resultRequest</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if XMLHttpRequest object is valid</span><span class="WHIT">
<span class='linenumber'>168</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>169</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.open</span><span class="PUNC">(</span><span class="STRN">"POST"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//set the adress and HTTP method to GET</span><span class="WHIT">
<span class='linenumber'>170</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.onreadystatechange</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>171</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>172</span> </span><span class="WHIT">			</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'>173</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>174</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">changeFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if there is an assigned changeFunction, assign it to the onreadystatechange event specially, that it recieves the XMLHttpRequest object as its parameter		</span><span class="WHIT">
<span class='linenumber'>175</span> </span><span class="WHIT">					</span><span class="NAME">changeFunction</span><span class="PUNC">(</span><span class="NAME">resultRequest</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>176</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="COMM">/*
<span class='linenumber'>177</span> 			catch(e)
<span class='linenumber'>178</span> 			{
<span class='linenumber'>179</span> 				if (console)
<span class='linenumber'>180</span> 					console.error(e);
<span class='linenumber'>181</span> 			}*/</span><span class="WHIT">
<span class='linenumber'>182</span> </span><span class="WHIT">			</span><span class="KEYW">finally</span><span class="WHIT">
<span class='linenumber'>183</span> </span><span class="WHIT">			</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>184</span> </span><span class="WHIT">				</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">resultRequest.readyState</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>185</span> </span><span class="WHIT">				</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>186</span> </span><span class="WHIT">					</span><span class="NAME">AJAX.activeRequestCount</span><span class="PUNC">--</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>187</span> </span><span class="WHIT">					</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>188</span> </span><span class="WHIT">					</span><span class="NAME">resultRequest</span><span class="PUNC">=</span><span class="NAME">undefined</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>189</span> </span><span class="WHIT">				</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>190</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>191</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>192</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.setRequestHeader</span><span class="PUNC">(</span><span class="STRN">"Content-type"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"application/x-www-form-urlencoded"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>193</span> </span><span class="WHIT">    </span><span class="NAME">resultRequest.setRequestHeader</span><span class="PUNC">(</span><span class="STRN">"Content-length"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">parameters.length</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>194</span> </span><span class="WHIT">    </span><span class="NAME">resultRequest.setRequestHeader</span><span class="PUNC">(</span><span class="STRN">"Connection"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"close"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>195</span> </span><span class="WHIT">		</span><span class="COMM">//set some headers for POST method</span><span class="WHIT">
<span class='linenumber'>196</span> </span><span class="WHIT">		</span><span class="NAME">resultRequest.send</span><span class="PUNC">(</span><span class="NAME">parameters</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//send the request with parameters attached</span><span class="WHIT">
<span class='linenumber'>197</span> </span><span class="WHIT">		</span><span class="NAME">this.activeRequestCount</span><span class="PUNC">++</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>198</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>199</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"noAjax"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if cannot create a valid XMLHttpRequest object, inform user.</span><span class="WHIT">
<span class='linenumber'>200</span> </span><span class="WHIT">		</span><span class="NAME">alert</span><span class="PUNC">(</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"noAjax"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//start the request</span><span class="WHIT">
<span class='linenumber'>201</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">resultRequest</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//return the created XMLHttpRequest object for any further use</span><span class="WHIT">
<span class='linenumber'>202</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>203</span> 
<span class='linenumber'>204</span> </span><span class="COMM">/**
<span class='linenumber'>205</span>  * Takes "GET" or "POST" as method parameter and then according to this, creates a SELF-MANAGED
<span class='linenumber'>206</span>  * XMLHttpRequest object using internal makeGetRequest or makePostRequest according to the method parameter.
<span class='linenumber'>207</span>  * Developers are strongly adviced to use THIS function instead of the above POST and GET specific functions.
<span class='linenumber'>208</span>  *
<span class='linenumber'>209</span>  * @return	{XMLHttpRequestObject} The newly created XMLHttpRequest object for this specific AJAX call.
<span class='linenumber'>210</span>  * @param	{String}	method	Should be either POST or GET according to the type of the HTTP request.
<span class='linenumber'>211</span>  * @param	{String}	adress	The adress of the page which will be connected. Should  NOT include any parameters.
<span class='linenumber'>212</span>  * @param	{String | Object}	parameters	The parameters which are either URI encoded and merged or given in the JSON format
<span class='linenumber'>213</span>  * @param	{Function(XMLHttpRequestObject)}	[completedFunction]	The function which will be called when the HTTP call is completed. (readyState==4)
<span class='linenumber'>214</span>  * @param	{Function(XMLHttpRequestObject)}	[loadingFunction]	The function which will be called EVERYTIME when an onreadystatechange event is occured with a readyState different than 4. Might be called several times before the call is completed.
<span class='linenumber'>215</span>  */</span><span class="WHIT">
<span class='linenumber'>216</span> </span><span class="NAME">AJAX.makeRequest</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">method</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">parameters</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">completedFunction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadingFunction</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>217</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>218</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">triggerFunction</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//define the custom changeFunction as triggerFunction</span><span class="WHIT">
<span class='linenumber'>219</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>220</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">4</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">completedFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the request is finished and there is a  completedFunction assigned</span><span class="WHIT">
<span class='linenumber'>221</span> </span><span class="WHIT">			</span><span class="NAME">completedFunction</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call the completedFunction sending the requestObject as its parameter</span><span class="WHIT">
<span class='linenumber'>222</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">loadingFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if request is in progress and there is an assigned loadingFunction</span><span class="WHIT">
<span class='linenumber'>223</span> </span><span class="WHIT">			</span><span class="NAME">loadingFunction</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call the loadingFunction passing the requestObject as its parameter</span><span class="WHIT">
<span class='linenumber'>224</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//finished defining the custom changeFunction</span><span class="WHIT">
<span class='linenumber'>225</span> </span><span class="WHIT">	</span><span class="COMM">//checking parameters</span><span class="WHIT">
<span class='linenumber'>226</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">parameters</span><span class="PUNC">==</span><span class="STRN">'object'</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>227</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>228</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">paramsTemp</span><span class="PUNC">=</span><span class="NAME">parameters</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>229</span> </span><span class="WHIT">		</span><span class="NAME">parameters</span><span class="PUNC">=</span><span class="STRN">''</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>230</span> </span><span class="WHIT">		</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">paramName</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">paramsTemp</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>231</span> </span><span class="WHIT">			</span><span class="NAME">parameters</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">'&'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">paramName</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">'='</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">encodeURIComponent</span><span class="PUNC">(</span><span class="NAME">paramsTemp</span><span class="PUNC">[</span><span class="NAME">paramName</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>232</span> </span><span class="WHIT">			</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">paramsTemp</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>233</span> </span><span class="WHIT">			</span><span class="NAME">paramsTemp</span><span class="PUNC">=</span><span class="NAME">undefined</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>234</span> </span><span class="WHIT">			</span><span class="NAME">parameters</span><span class="PUNC">=</span><span class="NAME">parameters.substr</span><span class="PUNC">(</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>235</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>236</span> </span><span class="WHIT">	</span><span class="WHIT">
<span class='linenumber'>237</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">method.toUpperCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">"GET"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if requested method is GET, then call the makeGetRequest function</span><span class="WHIT">
<span class='linenumber'>238</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.makeGetRequest</span><span class="PUNC">(</span><span class="NAME">adress</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">parameters</span><span class="PUNC">)</span><span class="PUNC">?</span><span class="STRN">'?'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">parameters</span><span class="PUNC">:</span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">triggerFunction</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>239</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">method.toUpperCase</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">"POST"</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//else if requested method is POST, then call the makeAJAXPostRequest function</span><span class="WHIT">
<span class='linenumber'>240</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.makePostRequest</span><span class="PUNC">(</span><span class="NAME">adress</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">parameters</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">triggerFunction</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>241</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="COMM">//if requested method is invalid, return false</span><span class="WHIT">
<span class='linenumber'>242</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>243</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>244</span> 
<span class='linenumber'>245</span> </span><span class="COMM">/**
<span class='linenumber'>246</span>  * Loads a dynamic content to the given container element.
<span class='linenumber'>247</span>  * If the config["loadingText"] is defined, target container element's innerHTML is filled with global variable config["loadingText"] while the content is loading.
<span class='linenumber'>248</span>  *
<span class='linenumber'>249</span>  * @result	{XMLHttpRequestObject}
<span class='linenumber'>250</span>  * @param	{String}	theURL	The URL of the content which will be loaded dynamically into the given container.
<span class='linenumber'>251</span>  * @param	{String|Object}	element	The container element itself or its id, which the dynamic content will be loaded into.
<span class='linenumber'>252</span>  * @param	{Function(Object, String)}	[completedFunction]	The function which will be called when the loading of the content is finished. It is called with the target container element and the URL as parameters.
<span class='linenumber'>253</span>  * @param	{Function(Object, String)}	[loadingFunction]	The function which will be called EVERYTIME when an onreadystatechange event is occured with a readyState different than 4 while loading the dynamic content. It is called with the target container element and the URL as parameters.
<span class='linenumber'>254</span>  */</span><span class="WHIT">
<span class='linenumber'>255</span> </span><span class="NAME">AJAX.loadContent</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">theURL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">element</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">completedFunction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadingFunction</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>256</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>257</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">'string'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if id of the object is given instead of the object itself</span><span class="WHIT">
<span class='linenumber'>258</span> </span><span class="WHIT">		</span><span class="NAME">element</span><span class="PUNC">=</span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//assign the element the object corresponding to the given id</span><span class="WHIT">
<span class='linenumber'>259</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">triggerFunction</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//define the custom changeFunction</span><span class="WHIT">
<span class='linenumber'>260</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>261</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">4</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the request is finished</span><span class="WHIT">
<span class='linenumber'>262</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>263</span> </span><span class="WHIT">			</span><span class="NAME">element.innerHTML</span><span class="PUNC">=</span><span class="NAME">requestObject.responseText</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//fill the element's innerHTML with the returning data</span><span class="WHIT">
<span class='linenumber'>264</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">completedFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if a callback function assigned to *callbackFunc*</span><span class="WHIT">
<span class='linenumber'>265</span> </span><span class="WHIT">				</span><span class="NAME">completedFunction</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">theURL</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call it with the element object and the given URL as its parameters</span><span class="WHIT">
<span class='linenumber'>266</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>267</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT">
<span class='linenumber'>268</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>269</span> </span><span class="WHIT">			</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">loadingFunction</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if a custom loadingFunction is assigned</span><span class="WHIT">
<span class='linenumber'>270</span> </span><span class="WHIT">				</span><span class="NAME">loadingFunction</span><span class="PUNC">(</span><span class="NAME">element</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">theURL</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call it with the element object and the given URL as its parameters</span><span class="WHIT">
<span class='linenumber'>271</span> </span><span class="WHIT">			</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"loadingText"</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>272</span> </span><span class="WHIT">				</span><span class="NAME">element.innerHTML</span><span class="PUNC">=</span><span class="NAME">this.config</span><span class="PUNC">[</span><span class="STRN">"loadingText"</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//set the given element's innerHTML the loading text to inform the user</span><span class="WHIT">
<span class='linenumber'>273</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>274</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>275</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">this.makeGetRequest</span><span class="PUNC">(</span><span class="NAME">theURL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">triggerFunction</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//make the GET request and return the used XMLHttpRequest object</span><span class="WHIT">
<span class='linenumber'>276</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>277</span> 
<span class='linenumber'>278</span> </span><span class="COMM">/**
<span class='linenumber'>279</span>  * Loads an external style-sheet or Javascript file on-demand.
<span class='linenumber'>280</span>  * Removes the old node if a resourceId is given.
<span class='linenumber'>281</span>  * 
<span class='linenumber'>282</span>  * @return	{HTMLElementObject}	The newly added script or link DOM node.
<span class='linenumber'>283</span>  * @param	{String}	theURL	The address of the resource-to-be-loaded.
<span class='linenumber'>284</span>  * @param	{String}	[type]	The type of the resource.
<span class='linenumber'>285</span>  * Should be either js or css. The default value is js.
<span class='linenumber'>286</span>  * @param	{String}	[resourceId]	The id which will be assigned to newly created DOM node.
<span class='linenumber'>287</span>  * If not given, no id is assigned to the created node.
<span class='linenumber'>288</span>  * @param	{Boolean}	[forceRefresh]	Addes a "?time" value at the end of the file URL to force the browser reload the file and not to use cache.
<span class='linenumber'>289</span>  */</span><span class="WHIT">
<span class='linenumber'>290</span> </span><span class="NAME">AJAX.loadResource</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">theURL</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">type</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">resourceId</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">forceRefresh</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>291</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>292</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">type</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>293</span> </span><span class="WHIT">		</span><span class="NAME">type</span><span class="PUNC">=</span><span class="STRN">"js"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>294</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">forceRefresh</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>295</span> </span><span class="WHIT">		</span><span class="NAME">theURL</span><span class="PUNC">+</span><span class="PUNC">=</span><span class="STRN">"?"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">Date.parse</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Date</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>296</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">attr</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">newNode</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>297</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">head</span><span class="PUNC">=</span><span class="NAME">document.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">"head"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>298</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"js"</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>299</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>300</span> </span><span class="WHIT">		</span><span class="NAME">newNode</span><span class="PUNC">=</span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">"script"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>301</span> </span><span class="WHIT">		</span><span class="NAME">newNode.type</span><span class="PUNC">=</span><span class="STRN">"text/javascript"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>302</span> </span><span class="WHIT">		</span><span class="NAME">attr</span><span class="PUNC">=</span><span class="STRN">"src"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>303</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>304</span> </span><span class="WHIT">	</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">==</span><span class="STRN">"css"</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>305</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>306</span> </span><span class="WHIT">		</span><span class="NAME">newNode</span><span class="PUNC">=</span><span class="NAME">document.createElement</span><span class="PUNC">(</span><span class="STRN">"link"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>307</span> </span><span class="WHIT">		</span><span class="NAME">newNode.type</span><span class="PUNC">=</span><span class="STRN">"text/css"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>308</span> </span><span class="WHIT">		</span><span class="NAME">newNode.rel</span><span class="PUNC">=</span><span class="STRN">"stylesheet"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>309</span> </span><span class="WHIT">		</span><span class="NAME">attr</span><span class="PUNC">=</span><span class="STRN">"href"</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>310</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>311</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">resourceId</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>312</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>313</span> </span><span class="WHIT">		</span><span class="NAME">old</span><span class="PUNC">=</span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">resourceId</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>314</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">old</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="NAME">old.parentNode.removeChild</span><span class="PUNC">(</span><span class="NAME">old</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>315</span> </span><span class="WHIT">		</span><span class="KEYW">delete</span><span class="WHIT"> </span><span class="NAME">old</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>316</span> </span><span class="WHIT">		</span><span class="NAME">newNode.id</span><span class="PUNC">=</span><span class="NAME">resourceId</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>317</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>318</span> </span><span class="WHIT">	</span><span class="NAME">newNode</span><span class="PUNC">[</span><span class="NAME">attr</span><span class="PUNC">]</span><span class="PUNC">=</span><span class="NAME">theURL</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>319</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">head.appendChild</span><span class="PUNC">(</span><span class="NAME">newNode</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>320</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>321</span> 
<span class='linenumber'>322</span> </span><span class="COMM">/**
<span class='linenumber'>323</span>  * The current active requests number.
<span class='linenumber'>324</span>  * Changing this value is discouraged.
<span class='linenumber'>325</span>  *
<span class='linenumber'>326</span>  * @type	integer
<span class='linenumber'>327</span>  */</span><span class="WHIT">
<span class='linenumber'>328</span> </span><span class="NAME">AJAX.activeRequestCount</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>329</span> 
<span class='linenumber'>330</span> </span><span class="COMM">/**
<span class='linenumber'>331</span>  * Introduces some useful functions for XML parsing, which are returned by the XMLHttpRequest objects's responseXML property.
<span class='linenumber'>332</span>  * @namespace
<span class='linenumber'>333</span>  */</span><span class="WHIT">
<span class='linenumber'>334</span> </span><span class="NAME">AJAX.XML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>335</span> </span><span class="COMM">/**
<span class='linenumber'>336</span>  * Tries to extract the node value whose name is given with nodeName and is contained by mainItem node. Returns the defaultVal if any error occurs.
<span class='linenumber'>337</span>  *
<span class='linenumber'>338</span>  * @return	{String}	The value of the node whose name is given with nodeName and which is contained by mainItem node.
<span class='linenumber'>339</span>  * @param	{Object}	mainItem	The main node item which holds the sub nodes and their values.
<span class='linenumber'>340</span>  * @param	{String}	nodeName	Name of the sub node whose value will be extracted from the mainItem.
<span class='linenumber'>341</span>  * @param	{String}	[defaultVal]	The default value which will be returned if the sub node whose name is given in nodeName is not found.
<span class='linenumber'>342</span>  */</span><span class="WHIT">
<span class='linenumber'>343</span> </span><span class="NAME">AJAX.XML.getValue</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mainItem</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">defaultVal</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>344</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>345</span> </span><span class="WHIT">	</span><span class="NAME">defaultVal</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">defaultVal</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">defaultVal</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>346</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>347</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'>348</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>349</span> </span><span class="WHIT">		</span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">mainItem.getElementsByTagName</span><span class="PUNC">(</span><span class="NAME">nodeName</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">firstChild.nodeValue</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>350</span> </span><span class="WHIT">		</span><span class="NAME">val</span><span class="PUNC">=</span><span class="PUNC">(</span><span class="NAME">val</span><span class="PUNC">!=</span><span class="NAME">undefined</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">?</span><span class="WHIT"> </span><span class="NAME">val</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">defaultVal</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>351</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>352</span> </span><span class="WHIT">	</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>353</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>354</span> </span><span class="WHIT">		</span><span class="NAME">val</span><span class="PUNC">=</span><span class="NAME">defaultVal</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>355</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>356</span> </span><span class="WHIT">	</span><span class="KEYW">finally</span><span class="WHIT">
<span class='linenumber'>357</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>358</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>359</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>360</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>361</span> 
<span class='linenumber'>362</span> </span><span class="COMM">/**
<span class='linenumber'>363</span>  * Tries to set the node value whose name is given with nodeName and is contained by mainItem node. Returns false if any error occurs.
<span class='linenumber'>364</span>  *
<span class='linenumber'>365</span>  * @method
<span class='linenumber'>366</span>  * @return	{String}	The value set by the function is returned. If an error occures, the function returns false.
<span class='linenumber'>367</span>  * @param	{Object}	mainItem	The main node item which holds the sub nodes and their values.
<span class='linenumber'>368</span>  * @param	{String}	nodeName Name of the sub node whose value will be set.
<span class='linenumber'>369</span>  * @param	{String}	val	The new value of the sub node whose name is given in nodeName.
<span class='linenumber'>370</span>  */</span><span class="WHIT">
<span class='linenumber'>371</span> </span><span class="NAME">AJAX.XML.setValue</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mainItem</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">nodeName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>372</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>373</span> </span><span class="WHIT">	</span><span class="KEYW">try</span><span class="WHIT">
<span class='linenumber'>374</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>375</span> </span><span class="WHIT">		</span><span class="NAME">mainItem.getElementsByTagName</span><span class="PUNC">(</span><span class="NAME">nodeName</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">firstChild.nodeValue</span><span class="PUNC">=</span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>376</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">val</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>377</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>378</span> </span><span class="WHIT">	</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>379</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>380</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>381</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>382</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>383</span> 
<span class='linenumber'>384</span> </span><span class="COMM">/**
<span class='linenumber'>385</span>  * Converts an element/node collection, which acts as an array usually, to an actual array and returns it, which allows developers to use array-spesific functions.
<span class='linenumber'>386</span>  *
<span class='linenumber'>387</span>  * @return	{HTMLElementObject[]} The array version of the given collection.
<span class='linenumber'>388</span>  * @param	{HTMLCollectionObject}	collection	The collection which will be converted to array.
<span class='linenumber'>389</span>  */</span><span class="WHIT">
<span class='linenumber'>390</span> </span><span class="NAME">AJAX.XML.toArray</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">collection</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>391</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>392</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">result</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Array</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>393</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">collection.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>394</span> </span><span class="WHIT">		</span><span class="NAME">result.push</span><span class="PUNC">(</span><span class="NAME">collection</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>395</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">result</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>396</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>397</span> 
<span class='linenumber'>398</span> </span><span class="NAME">window.onbeforeunload</span><span class="PUNC">=</span><span class="NAME">AJAX.checkActiveRequests</span><span class="PUNC">;</span>
</pre>
</div>
<!--============= /DOCS =============-->



</div>



<!--============= FOOTER ============-->
<div id="footer">
	<ul>
		<li>
			JsDoc.
		</li>
		<li>
			Generated by
			<a href="http://jsdoctoolkit.org/">JsDoc Toolkit</a> 1.4.1
			with <a href="http://lib.metatype.jp/madtemplate/">mad template</a>.
		</li>
		
	</ul>
</div>
<!--============ /FOOTER ============-->



</div>
</body>
</html>