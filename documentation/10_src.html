<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="content-type"        content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type"  content="text/css" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta name="generator" content="JsDoc Toolkit 1.4.1" />
<title>JsDoc &raquo; dynamicLanguage &raquo; aV.plg.dynamicLanguage.js</title>
<link href="default.css" type="text/css" rel="stylesheet" media="all" />
<script src="default.js" type="text/javascript"></script>

</head>
<body id="pagetop">
<div id="body">



<!--============= HEADER ============-->
<div id="header">
	<ul>
		<li><a href="index.html">JsDoc</a></li>
		<li><a href="10_file.html">dynamicLanguage</a></li>
		<li><a href="10_src.html">aV.plg.dynamicLanguage.js</a></li>
	</ul>
</div>
<!--============ /HEADER ============-->



<div id="layout">



<!--============== NAV ==============-->
<div id="nav">
	
	<div class="close">
		<h2>
			<span class="name"><a href="00_file.html">AJAX&XML Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="00_file.html#AJAX">AJAX</a></li>
					
						<li><a href="00_file.html#AJAX.XML">AJAX.XML</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="00_file.html#AJAX.activeRequestCount">AJAX.activeRequestCount</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="01_file.html">DBGrid class</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="01_file.html#DBGrid">DBGrid</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="01_file.html#DBGrid._lastGuid">DBGrid._lastGuid</a></li>
					
						<li><a href="01_file.html#DBGrid.dataAddress">DBGrid.dataAddress</a></li>
					
						<li><a href="01_file.html#DBGrid.guid">DBGrid.guid</a></li>
					
						<li><a href="01_file.html#DBGrid.parameters">DBGrid.parameters</a></li>
					
						<li><a href="01_file.html#DBGrid.sortBy">DBGrid.sortBy</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="02_file.html">Event Management Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="02_file.html#Events">Events</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="02_file.html#Events.guid">Events.guid</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="03_file.html">String Extensions Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="03_file.html#String">String</a></li>
					
				</ul>
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="04_file.html">Visual Effects - Slider Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="04_file.html#Visual.sliders">Visual.sliders</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="04_file.html#Visual.sliders.activeSlider">Visual.sliders.activeSlider</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="05_file.html">Visual Effects - customHint Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="05_file.html#Examples">Examples</a></li>
					
						<li><a href="05_file.html#Visual.customHint">Visual.customHint</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="06_file.html">Visual Effects - infoBox Extension</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="06_file.html#Visual.infoBox">Visual.infoBox</a></li>
					
						<li><a href="06_file.html#Visual.infoBox.config.timeout">Visual.infoBox.config.timeout</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="07_file.html">Visual Effects&Functions Library</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="07_file.html#Visual">Visual</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="07_file.html#Visual.fixedElements">Visual.fixedElements</a></li>
					
						<li><a href="07_file.html#Visual.initFunctions">Visual.initFunctions</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="08_file.html">aParser</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="08_file.html#aParser">aParser</a></li>
					
				</ul>
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="09_file.html">cssQuery</a></span>
			
		</h2>
		<div class="list">
		
			
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="10_file.html">dynamicLanguage</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage">AJAX.dynamicLanguage</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage._loader">AJAX.dynamicLanguage._loader</a></li>
					
						<li><a href="10_file.html#AJAX.dynamicLanguage._strings">AJAX.dynamicLanguage._strings</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
	<div class="close">
		<h2>
			<span class="name"><a href="11_file.html">quickEdit</a></span>
			
				<span class="ico"><a href="#"></a></span>
			
		</h2>
		<div class="list">
		
			
				<h3>Constructors</h3>
				<ul>
					
						<li><a href="11_file.html#QuickEdit">QuickEdit</a></li>
					
				</ul>
			
			
				<h3>Objects</h3>
				<ul>
					
						<li><a href="11_file.html#QuickEdit.uploadBoxCount">QuickEdit.uploadBoxCount</a></li>
					
				</ul>
			
		
		</div>
	</div>
	
</div>
<!--============= /NAV ==============-->


    
<!--============== DOCS =============-->
<div id="docs">
<pre id="code">
<span class='linenumber'>  1</span> <span class="COMM">/**
<span class='linenumber'>  2</span>  * @fileOverview	Allows non obtrusive asynchornous dynamic language management.
<span class='linenumber'>  3</span>  * @name dynamicLanguage
<span class='linenumber'>  4</span>  *
<span class='linenumber'>  5</span>  * @author	Burak YiÄŸit KAYA	byk@amplio-vita.net
<span class='linenumber'>  6</span>  * @version	1.2
<span class='linenumber'>  7</span>  *
<span class='linenumber'>  8</span>  * @requires	&lt;a href="http://amplio-vita.net/JSLib/js/aV.main.ajax.js">aV.main.ajax.js&lt;/a>
<span class='linenumber'>  9</span>  * @copyright &copy;2008 amplio-Vita under &lt;a href="../license.txt" target="_blank">BSD Licence&lt;/a>
<span class='linenumber'> 10</span>  */</span><span class="WHIT">
<span class='linenumber'> 11</span> 
<span class='linenumber'> 12</span> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">AJAX</span><span class="PUNC">==</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 13</span> </span><span class="WHIT">	</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">"AJAX functions library cannot be found!"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"aV.plg.dynamicLanguage.js@"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">window.location.href</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">13</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 14</span> 
<span class='linenumber'> 15</span> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">AJAX.dynamicLanguage</span><span class="PUNC">!=</span><span class="STRN">"undefined"</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 16</span> </span><span class="WHIT">	</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">'"AJAX.dynamicLanguage" namespace had already been taken!'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">"aV.plg.dynamicLanguage.js@"</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">window.location.href</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">16</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 17</span> 
<span class='linenumber'> 18</span> </span><span class="COMM">/**
<span class='linenumber'> 19</span>  * Represents a namespace under AJAX, AJAX.dynamicLanguage, for the new functions and global parameters of those functions.
<span class='linenumber'> 20</span>  *
<span class='linenumber'> 21</span>  * @config	{Boolean}	retryOnError	Set true for recursive retries if a language file request fails.
<span class='linenumber'> 22</span>  * @config	{Function(String)}	loadingNotifier	The callback function which is called when the language file is loading.
<span class='linenumber'> 23</span>  * The language code of the loaded language is passed as the only parameter.
<span class='linenumber'> 24</span>  * @namespace
<span class='linenumber'> 25</span>  */</span><span class="WHIT">
<span class='linenumber'> 26</span> </span><span class="NAME">AJAX.dynamicLanguage</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 27</span> 
<span class='linenumber'> 28</span> </span><span class="NAME">AJAX.dynamicLanguage.config</span><span class="PUNC">=</span><span class="WHIT">
<span class='linenumber'> 29</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 30</span> </span><span class="WHIT">	</span><span class="NAME">retryOnError</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='linenumber'> 31</span> </span><span class="WHIT">	</span><span class="NAME">loadingNotifier</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="WHIT">
<span class='linenumber'> 32</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 33</span> 
<span class='linenumber'> 34</span> </span><span class="COMM">/**
<span class='linenumber'> 35</span>  * The XMLHttpRequestObject which is used to load the language asynchronously
<span class='linenumber'> 36</span>  *
<span class='linenumber'> 37</span>  * @private
<span class='linenumber'> 38</span>  * @type	XMLHttpRequestObject
<span class='linenumber'> 39</span>  */</span><span class="WHIT">
<span class='linenumber'> 40</span> </span><span class="NAME">AJAX.dynamicLanguage._loader</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 41</span> 
<span class='linenumber'> 42</span> </span><span class="COMM">/**
<span class='linenumber'> 43</span>  * The collection which holds the retrieved language strings
<span class='linenumber'> 44</span>  *
<span class='linenumber'> 45</span>  * @private
<span class='linenumber'> 46</span>  * @type XMLElementCollectionObject
<span class='linenumber'> 47</span>  */</span><span class="WHIT">
<span class='linenumber'> 48</span> </span><span class="NAME">AJAX.dynamicLanguage._strings</span><span class="PUNC">=</span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 49</span> 
<span class='linenumber'> 50</span> </span><span class="COMM">/**
<span class='linenumber'> 51</span>  * An internal function which is made for quick&easy language text retrieving from the active language
<span class='linenumber'> 52</span>  *
<span class='linenumber'> 53</span>  * @private
<span class='linenumber'> 54</span>  * @return	{String}	The retrieved language string
<span class='linenumber'> 55</span>  * @param	{String}	fieldName	The identifier of the language string
<span class='linenumber'> 56</span>  */</span><span class="WHIT">
<span class='linenumber'> 57</span> </span><span class="NAME">AJAX.dynamicLanguage._getString</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">fieldName</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 58</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'> 59</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">AJAX.XML.getValue</span><span class="PUNC">(</span><span class="NAME">AJAX.dynamicLanguage._strings</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">fieldName</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">''</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 60</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 61</span> 
<span class='linenumber'> 62</span> </span><span class="COMM">/**
<span class='linenumber'> 63</span>  * This function scans the sub elements of the given object for &lt;b>langText&lt;/b> defined elements
<span class='linenumber'> 64</span>  * and then sets their innerHTML's to the appropriate text, retrieved dynamically from the
<span class='linenumber'> 65</span>  * XML language file.
<span class='linenumber'> 66</span>  *
<span class='linenumber'> 67</span>  * @method
<span class='linenumber'> 68</span>  * @param	{HTMLElementObject | String}	[container]	The id or the object reference of the element-to-be-scanned
<span class='linenumber'> 69</span>  * for dynamic language text associations.
<span class='linenumber'> 70</span>  * &lt;br />If not spesified, the function automatically scans the whole document(usually this is useful).
<span class='linenumber'> 71</span>  */</span><span class="WHIT">
<span class='linenumber'> 72</span> </span><span class="NAME">AJAX.dynamicLanguage.fillTexts</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 73</span> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="WHIT">
<span class='linenumber'> 74</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">container</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if container is not defined</span><span class="WHIT">
<span class='linenumber'> 75</span> </span><span class="WHIT">		</span><span class="NAME">container</span><span class="PUNC">=</span><span class="NAME">document.body</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//assign the document object</span><span class="WHIT">
<span class='linenumber'> 76</span> </span><span class="WHIT">		</span><span class="WHIT">
<span class='linenumber'> 77</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">)</span><span class="PUNC">==</span><span class="STRN">'string'</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//or it is an id of the object</span><span class="WHIT">
<span class='linenumber'> 78</span> </span><span class="WHIT">		</span><span class="NAME">container</span><span class="PUNC">=</span><span class="NAME">document.getElementById</span><span class="PUNC">(</span><span class="NAME">container</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//then get the object with the given id</span><span class="WHIT">
<span class='linenumber'> 79</span> </span><span class="WHIT">		</span><span class="WHIT">
<span class='linenumber'> 80</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">elements</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 81</span> </span><span class="WHIT">	</span><span class="NAME">elements</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">container.childNodes</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//get all sub elements under the container</span><span class="WHIT">
<span class='linenumber'> 82</span> 
<span class='linenumber'> 83</span> </span><span class="WHIT">	</span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">elements.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="COMM">//scan through the sub elements</span><span class="WHIT">
<span class='linenumber'> 84</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">nodeType</span><span class="PUNC">==</span><span class="NUMB">1</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getAttribute</span><span class="PUNC">(</span><span class="STRN">"langText"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the element has a defined "langText" attribute</span><span class="WHIT">
<span class='linenumber'> 85</span> </span><span class="WHIT">			</span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">innerHTML</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">AJAX.dynamicLanguage._getString</span><span class="PUNC">(</span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">getAttribute</span><span class="PUNC">(</span><span class="STRN">"langText"</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//set its innerHTML from the language xml</span><span class="WHIT">
<span class='linenumber'> 86</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">hasChildNodes</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the element has sub nodes</span><span class="WHIT">
<span class='linenumber'> 87</span> </span><span class="WHIT">			</span><span class="NAME">AJAX.dynamicLanguage.fillTexts</span><span class="PUNC">(</span><span class="NAME">elements</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call to iterate over the sub nodes</span><span class="WHIT">
<span class='linenumber'> 88</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'> 89</span> </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'> 90</span> 
<span class='linenumber'> 91</span> </span><span class="COMM">/**
<span class='linenumber'> 92</span>  * Loads and fills the language texts whose code is given as the parameter.
<span class='linenumber'> 93</span>  * &lt;br />'lang/'+code+'.xml' is the path for the language file. You may change this pattern @ line 100
<span class='linenumber'> 94</span>  *
<span class='linenumber'> 95</span>  * @return	{XMLHttpRequestObject}	The created XMLHttpRequest object which is used to load the language file.
<span class='linenumber'> 96</span>  * @param	{String}	code	The language code which is used to load the language file
<span class='linenumber'> 97</span>  */</span><span class="WHIT">
<span class='linenumber'> 98</span> </span><span class="NAME">AJAX.dynamicLanguage.load</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">code</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'> 99</span> </span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>100</span> </span><span class="WHIT">	</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AJAX.dynamicLanguage._loader</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if there is an ongoing languge load request</span><span class="WHIT">
<span class='linenumber'>101</span> </span><span class="WHIT">		</span><span class="NAME">AJAX.destroyRequestObject</span><span class="PUNC">(</span><span class="NAME">AJAX.dynamicLanguage._loader</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//abort it</span><span class="WHIT">
<span class='linenumber'>102</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">filePath</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'lang/'</span><span class="PUNC">+</span><span class="NAME">code</span><span class="PUNC">+</span><span class="STRN">'.xml'</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//determine the file name from the language code. This line can be edited for personalisation</span><span class="WHIT">
<span class='linenumber'>103</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loadedFunction</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="COMM">//start defining the callBack function for the language load request</span><span class="WHIT">
<span class='linenumber'>104</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>105</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.status</span><span class="PUNC">==</span><span class="NUMB">200</span><span class="WHIT"> </span><span class="PUNC">||</span><span class="WHIT"> </span><span class="NAME">requestObject.status</span><span class="PUNC">==</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the XML file loaded succesfully</span><span class="WHIT">
<span class='linenumber'>106</span> </span><span class="WHIT">		</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>107</span> </span><span class="WHIT">			</span><span class="NAME">AJAX.dynamicLanguage._strings</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">requestObject.responseXML.getElementsByTagName</span><span class="PUNC">(</span><span class="STRN">'language'</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//assign the response to the _strings object</span><span class="WHIT">
<span class='linenumber'>108</span> </span><span class="WHIT">			</span><span class="NAME">AJAX.dynamicLanguage.fillTexts</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//change all the language texts across the page</span><span class="WHIT">
<span class='linenumber'>109</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="WHIT">
<span class='linenumber'>110</span> </span><span class="WHIT">		</span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="PUNC">==</span><span class="NUMB">4</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">AJAX.dynamicLanguage.retryOnError</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the operation failed and retryOnError is true</span><span class="WHIT">
<span class='linenumber'>111</span> </span><span class="WHIT">			</span><span class="NAME">AJAX.dynamicLanguage.load</span><span class="PUNC">(</span><span class="NAME">code</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//try to reload</span><span class="WHIT">
<span class='linenumber'>112</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>113</span> </span><span class="WHIT">	</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">loadingFunction</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">requestObject</span><span class="PUNC">)</span><span class="WHIT">
<span class='linenumber'>114</span> </span><span class="WHIT">	</span><span class="PUNC">{</span><span class="WHIT">
<span class='linenumber'>115</span> </span><span class="WHIT">		</span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">requestObject.readyState</span><span class="PUNC">!=</span><span class="NUMB">4</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">AJAX.dynamicLanguage.loadingNotifier</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="COMM">//if the request is in progress and a loadingNotifier function is defined</span><span class="WHIT">
<span class='linenumber'>116</span> </span><span class="WHIT">			</span><span class="NAME">AJAX.dynamicLanguage.loadingNotifier</span><span class="PUNC">(</span><span class="NAME">code</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//call the given loadingNotifier function</span><span class="WHIT">
<span class='linenumber'>117</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='linenumber'>118</span> </span><span class="WHIT">	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">AJAX.dynamicLanguage._loader</span><span class="PUNC">=</span><span class="NAME">AJAX.makeRequest</span><span class="PUNC">(</span><span class="STRN">"GET"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">filePath</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">""</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadedFunction</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loadingFunction</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="COMM">//assign the created request object to the _loader object and return it.</span><span class="WHIT">
<span class='linenumber'>119</span> </span><span class="PUNC">}</span><span class="PUNC">;</span>
</pre>
</div>
<!--============= /DOCS =============-->



</div>



<!--============= FOOTER ============-->
<div id="footer">
	<ul>
		<li>
			JsDoc.
		</li>
		<li>
			Generated by
			<a href="http://jsdoctoolkit.org/">JsDoc Toolkit</a> 1.4.1
			with <a href="http://lib.metatype.jp/madtemplate/">mad template</a>.
		</li>
		
	</ul>
</div>
<!--============ /FOOTER ============-->



</div>
</body>
</html>